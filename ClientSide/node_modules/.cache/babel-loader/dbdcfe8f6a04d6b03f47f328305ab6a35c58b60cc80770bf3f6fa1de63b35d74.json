{"ast":null,"code":"import { produce } from 'immer';\nexport const InitialStateS = {\n  product: []\n};\nexport const datareducerS = produce((state, action) => {\n  switch (action.type) {\n    case \"ADD_TO_SAL\":\n      {\n        let y = state.product.findIndex(x => x._id == action.payload._id);\n        if (y == -1) {\n          action.payload.Count1 = 1;\n          state.product.push(action.payload);\n        } else {\n          state.product[y].Count1++;\n        }\n        break;\n      }\n    case \"SET_AMOUNT\":\n      {\n        let m;\n        let b = state.product.indexOf(state.product.find(x => x._id == action.payload.item._id));\n        if (action.payload.element == \"+\") {\n          if (state.product[b].Count1 >= state.product[b].Amount) alert(\"מצטערים אין מספיק במלאי\");else state.product[b].Count1++;\n        } else {\n          if (state.product[b].Count1 != 1) state.product[b].Count1--;else m = state.product.filter(f => f._id != action.payload.item._id);\n          state.product.pop(state.product[b]);\n        }\n        break;\n      }\n    default:\n      break;\n  }\n}, InitialStateS);","map":{"version":3,"names":["produce","InitialStateS","product","datareducerS","state","action","type","y","findIndex","x","_id","payload","Count1","push","m","b","indexOf","find","item","element","Amount","alert","filter","f","pop"],"sources":["C:/Users/נעמי/my-app/src/redux/reducer/salBuyReducer.jsx"],"sourcesContent":["import { produce } from 'immer'\r\n\r\nexport const InitialStateS = {\r\n\r\n    product: []\r\n}\r\n\r\nexport const datareducerS = produce((state, action) => {\r\n    switch (action.type) {\r\n\r\n        case \"ADD_TO_SAL\": {\r\n            let y = state.product.findIndex(x => x._id == action.payload._id)\r\n            if (y == -1) {\r\n                action.payload.Count1 = 1\r\n                state.product.push(action.payload)\r\n            }\r\n            else {\r\n                state.product[y].Count1++\r\n                \r\n            }\r\n            break;\r\n           \r\n        }\r\n        case \"SET_AMOUNT\":{\r\n            let m\r\n            let b = state.product.indexOf(state.product.find(x => x._id == action.payload.item._id))\r\n            if(action.payload.element==\"+\")\r\n            {\r\n                if(state.product[b].Count1>=state.product[b].Amount)\r\n                   alert(\"מצטערים אין מספיק במלאי\")\r\n                else\r\n                state.product[b].Count1++\r\n\r\n            }\r\n            else{\r\n                if(state.product[b].Count1!=1)\r\n                    state.product[b].Count1--\r\n                else\r\n                \r\n                 m=state.product.filter(f=>f._id!=action.payload.item._id) \r\n                state.product.pop(state.product[b])\r\n                \r\n            }\r\n            break;\r\n        }\r\n\r\n        \r\n        default:\r\n            break;\r\n    }\r\n}, InitialStateS)"],"mappings":"AAAA,SAASA,OAAO,QAAQ,OAAO;AAE/B,OAAO,MAAMC,aAAa,GAAG;EAEzBC,OAAO,EAAE;AACb,CAAC;AAED,OAAO,MAAMC,YAAY,GAAGH,OAAO,CAAC,CAACI,KAAK,EAAEC,MAAM,KAAK;EACnD,QAAQA,MAAM,CAACC,IAAI;IAEf,KAAK,YAAY;MAAE;QACf,IAAIC,CAAC,GAAGH,KAAK,CAACF,OAAO,CAACM,SAAS,CAACC,CAAC,IAAIA,CAAC,CAACC,GAAG,IAAIL,MAAM,CAACM,OAAO,CAACD,GAAG,CAAC;QACjE,IAAIH,CAAC,IAAI,CAAC,CAAC,EAAE;UACTF,MAAM,CAACM,OAAO,CAACC,MAAM,GAAG,CAAC;UACzBR,KAAK,CAACF,OAAO,CAACW,IAAI,CAACR,MAAM,CAACM,OAAO,CAAC;QACtC,CAAC,MACI;UACDP,KAAK,CAACF,OAAO,CAACK,CAAC,CAAC,CAACK,MAAM,EAAE;QAE7B;QACA;MAEJ;IACA,KAAK,YAAY;MAAC;QACd,IAAIE,CAAC;QACL,IAAIC,CAAC,GAAGX,KAAK,CAACF,OAAO,CAACc,OAAO,CAACZ,KAAK,CAACF,OAAO,CAACe,IAAI,CAACR,CAAC,IAAIA,CAAC,CAACC,GAAG,IAAIL,MAAM,CAACM,OAAO,CAACO,IAAI,CAACR,GAAG,CAAC,CAAC;QACxF,IAAGL,MAAM,CAACM,OAAO,CAACQ,OAAO,IAAE,GAAG,EAC9B;UACI,IAAGf,KAAK,CAACF,OAAO,CAACa,CAAC,CAAC,CAACH,MAAM,IAAER,KAAK,CAACF,OAAO,CAACa,CAAC,CAAC,CAACK,MAAM,EAChDC,KAAK,CAAC,yBAAyB,CAAC,MAEnCjB,KAAK,CAACF,OAAO,CAACa,CAAC,CAAC,CAACH,MAAM,EAAE;QAE7B,CAAC,MACG;UACA,IAAGR,KAAK,CAACF,OAAO,CAACa,CAAC,CAAC,CAACH,MAAM,IAAE,CAAC,EACzBR,KAAK,CAACF,OAAO,CAACa,CAAC,CAAC,CAACH,MAAM,EAAE,MAG5BE,CAAC,GAACV,KAAK,CAACF,OAAO,CAACoB,MAAM,CAACC,CAAC,IAAEA,CAAC,CAACb,GAAG,IAAEL,MAAM,CAACM,OAAO,CAACO,IAAI,CAACR,GAAG,CAAC;UAC1DN,KAAK,CAACF,OAAO,CAACsB,GAAG,CAACpB,KAAK,CAACF,OAAO,CAACa,CAAC,CAAC,CAAC;QAEvC;QACA;MACJ;IAGA;MACI;EACR;AACJ,CAAC,EAAEd,aAAa,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}